import{g as j,a}from"./index-muL-xWee.js";function E(e){if(Object(e.$parent)===e.$parent)return e.$parent;let{parent:r}=e.$;for(;Object(r)===r;){if(Object(r.proxy)===r.proxy)return r.proxy;r=r.parent}}function D(e){return e.appContext.config.globalProperties.$router!==void 0}function H(e){return e.isUnmounted===!0||e.isDeactivated===!0}function $(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function R(e,r){return(e.aliasOf||e)===(r.aliasOf||r)}function K(e,r){for(const o in r){const t=r[o],u=e[o];if(typeof t=="string"){if(t!==u)return!1}else if(Array.isArray(u)===!1||u.length!==t.length||t.some((g,p)=>g!==u[p]))return!1}return!0}function L(e,r){return Array.isArray(r)===!0?e.length===r.length&&e.every((o,t)=>o===r[t]):e.length===1&&e[0]===r}function q(e,r){return Array.isArray(e)===!0?L(e,r):Array.isArray(r)===!0?L(r,e):e===r}function B(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const o in e)if(q(e[o],r[o])===!1)return!1;return!0}const M={to:[String,Object],replace:Boolean,href:String,target:String,disable:Boolean},T={...M,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"}};function _({fallbackTag:e,useDisableForRouterLinkProps:r=!0}={}){const o=j(),{props:t,proxy:u,emit:g}=o,p=D(o),h=a(()=>t.disable!==!0&&t.href!==void 0),O=r===!0?a(()=>p===!0&&t.disable!==!0&&h.value!==!0&&t.to!==void 0&&t.to!==null&&t.to!==""):a(()=>p===!0&&h.value!==!0&&t.to!==void 0&&t.to!==null&&t.to!==""),f=a(()=>O.value===!0?A(t.to):null),s=a(()=>f.value!==null),k=a(()=>h.value===!0||s.value===!0),b=a(()=>t.type==="a"||k.value===!0?"a":t.tag||e||"div"),C=a(()=>h.value===!0?{href:t.href,target:t.target}:s.value===!0?{href:f.value.href,target:t.target}:{}),y=a(()=>{if(s.value===!1)return-1;const{matched:n}=f.value,{length:i}=n,l=n[i-1];if(l===void 0)return-1;const c=u.$route.matched;if(c.length===0)return-1;const v=c.findIndex(R.bind(null,l));if(v!==-1)return v;const P=$(n[i-2]);return i>1&&$(l)===P&&c[c.length-1].path!==P?c.findIndex(R.bind(null,n[i-2])):v}),d=a(()=>s.value===!0&&y.value!==-1&&K(u.$route.params,f.value.params)),m=a(()=>d.value===!0&&y.value===u.$route.matched.length-1&&B(u.$route.params,f.value.params)),S=a(()=>s.value===!0?m.value===!0?` ${t.exactActiveClass} ${t.activeClass}`:t.exact===!0?"":d.value===!0?` ${t.activeClass}`:"":"");function A(n){try{return u.$router.resolve(n)}catch{}return null}function x(n,{returnRouterError:i,to:l=t.to,replace:c=t.replace}={}){if(t.disable===!0)return n.preventDefault(),Promise.resolve(!1);if(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey||n.button!==void 0&&n.button!==0||t.target==="_blank")return Promise.resolve(!1);n.preventDefault();const v=u.$router[c===!0?"replace":"push"](l);return i===!0?v:v.then(()=>{}).catch(()=>{})}function I(n){if(s.value===!0){const i=l=>x(n,l);g("click",n,i),n.defaultPrevented!==!0&&i()}else g("click",n)}return{hasRouterLink:s,hasHrefLink:h,hasLink:k,linkTag:b,resolvedLink:f,linkIsActive:d,linkIsExactActive:m,linkClass:S,linkAttrs:C,getLink:A,navigateToRouterLink:x,navigateOnClick:I}}export{H as a,_ as b,M as c,E as g,T as u,D as v};
